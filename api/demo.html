<html>
<head>
    <meta charset="utf-8">
    <link href="/editor/jsoneditor.css" rel="stylesheet" type="text/css">
    <script src="/editor/jsoneditor.js"></script>
</head>
<body>
<div>
    <div id="jsoneditor" style="float: left;width: 50%;"></div>
    <div id="jsonviewer" style="float: left;width: 50%;height: 100%;overflow: scroll;"></div>
    <div style="clear: both;"></div>
</div>
<script>
  var json =
  [
  [
    {
      "type": "hidden",
      "name": "id",
      "defaultValue": "1001"
    }
  ],
  [
    {
      "type": "div",
      "className": [
        "text-center font18",
        {
          "sm": 24,
          "offset": 0
        }
      ],
      "children": [
        "工单"
      ]
    }
  ],
  [
    {
      "type": "div",
      "className": [
        "text-left fl",
        {
          "sm": 10,
          "offset": 0
        }
      ],
      "children": [
        "提交时间: 2017.03.30 12:02:05"
      ]
    },
    {
      "type": "div",
      "className": [
        "text-right fr",
        {
          "sm": 10,
          "offset": 4
        }
      ],
      "children": [
        "受理时间: 2017-03-30 17:22:42"
      ]
    }
  ],
  [
    {
      "type": "div",
      "className": [
        "div-table"
      ],
      "children": [
        {
          "type": "div",
          "className": [
            "div-table-tr"
          ],
          "children": [
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "工单ID"
              ]
            },
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "1001"
              ]
            },
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "工单类型"
              ]
            },
            {
              "type": "select",
              "name": "issue_type",
              "defaultValue": "",
              "className": [
                "",
                {
                  "sm": 4,
                  "offset": 0
                }
              ],
              "title": "工单类型",
              "style": {
                "padding": 0
              },
              "placeholder": "请选择工单类型",
              "validate": {
                "required": true
              },
              "validateMessage": "请选择工单"
            },
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "客户"
              ]
            },
            {
              "type": "select",
              "id": "customer",
              "name": "customer",
              "target": "device",
              "defaultValue": "",
              "className": [
                "color-red",
                {
                  "sm": 4,
                  "offset": 0
                }
              ],
              "title": "提示信息",
              "style": {
                "padding": 0
              },
              "placeholder": "请填选择客户",
              "validate": {
                "required": true
              },
              "validateMessage": "选择客户"
            }
          ]
        },
        {
          "type": "div",
          "className": [
            "div-table-tr"
          ],
          "children": [
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "设备"
              ]
            },
            {
              "type": "select",
              "id": "device",
              "name": "device",
              "source": "customer",
              "defaultValue": "",
              "className": [
                "color-red",
                {
                  "sm": 4,
                  "offset": 0
                }
              ],
              "title": "提示信息",
              "style": {
                "padding": 0
              },
              "placeholder": "请填选择设备",
              "validate": {
                "required": true
              },
              "validateMessage": "选择设备"
            },
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "联系人"
              ]
            },
            {
              "type": "select",
              "name": "contact",
              "sync": "tel",
              "defaultValue": "",
              "className": [
                "",
                {
                  "sm": 4,
                  "offset": 0
                }
              ],
              "title": "联系人",
              "style": {
                "padding": 0
              },
              "placeholder": "请选择联系人",
              "validate": {
                "required": true
              },
              "validateMessage": "请选择联系人"
            },
            {
              "type": "div",
              "className": [
                "",
                {
                  "sm": 4
                }
              ],
              "children": [
                "电话"
              ]
            },
            {
              "type": "input",
              "name": "tel",
              "defaultValue": "",
              "className": [
                "",
                {
                  "sm": 4,
                  "offset": 0
                }
              ],
              "title": "电话",
              "style": {},
              "placeholder": "请填写电话",
              "validate": {
                "reg": "^1[3|5|7|8][0-9]{9}$|^\\d{3,4}-\\d{8}$|^\\d{8}$",
                "required": true
              },
              "validateMessage": "验证失败"
            }
          ]
        },
        {
          "type": "div",
          "className": [
            "div-table-tr"
          ],
          "children": [
            {
              "type": "div",
              "className": [
                {
                  "sm": 24,
                  "offset": 0
                }
              ],
              "children": [
                {
                  "type": "textarea",
                  "name": "desc",
                  "className": [
                    "text-left",
                    {
                      "sm": 24,
                      "offset": 0
                    }
                  ],
                  "defaultValue": "",
                  "placeholder": "请填写问题描述",
                  "validate": {
                    "required": true
                  },
                  "validateMessage": "验证失败"
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  [
    {
      "type": "div",
      "className": [
        "text-center",
        {
          "sm": 24,
          "offset": 0
        }
      ],
      "style": {
        "padding": "5px 0"
      },
      "children": [
        {
          "type": "button",
          "action": {
            "type": "submit",
            "handler": "/api/submit"
          },
          "children": [
            "提交"
          ]
        }
      ]
    }
  ]
]
  var conatiner = document.getElementById('jsoneditor')
  var viewer = document.getElementById('jsonviewer')
  var options = {}
  var editor = new JSONEditor(conatiner, options)
  editor.set(json)
  var pre = document.createElement('pre')
  pre.innerText = JSON.stringify(editor.get(), null, 2)
  viewer.appendChild(pre)
</script>
</body>
</html>
